/*!
 * MIT License
 * Copyright 2022 D-EDGE
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated
 * documentation files (the "Software"), to deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit
 * persons to whom the Software is furnished to do so, subject to the following conditions:
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the
 * Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE
 * WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
 * OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * 
 */!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=11)}([function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.debug=!1,this.logSuccessMessages=!0}return e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.debug&&console&&console.log&&console.log.apply(this,e)},e.prototype.success=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logSuccessMessages&&console&&console.log&&console.log.apply(this,e)},e.prototype.alwaysLog=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log.apply(this,e)},e}();t.default=n,t.logger=new n},,function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispatchEvent=function(e,t,o){var n;t=t||document,"function"==typeof Event?n=new Event(e):(n=document.createEvent("Event")).initEvent(e,!0,!0),void 0!==o&&(n.detail=o),t.dispatchEvent(n)}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(0),r=o(2),a=function(){function e(e,t){void 0===e&&(e="_GA4CrossDomainParam"),void 0===t&&(t="accor_ga4_param_updated"),this.globalVariableName=e,this.onUpdateEventName=t,this._gl=!1,this.cookieCount=0}return e.prototype.extractClientID=function(e,t){var o=/^GA1\.\d+\.(.+)$/,r=/^GS1\.\d+\.(.+)$/;return o.test(t)?o.exec(t)[1]:r.test(t)?r.exec(t)[1]:(n.logger.log("Warning: the value for the cookie "+e+" does not match GA3 or GA4 format",t),t)},e.prototype.getGACookies=function(){for(var e=[],t=[],o=0,n=document.cookie.split("; ");o<n.length;o++){var r=n[o].split("="),a=r[0],i=r[1];/(^_ga$)|^_ga_/.test(a)&&e.push({name:a,rawValue:i,clientID:this.extractClientID(a,i)})}for(var l={},s=0,c=e;s<c.length;s++){var g=c[s];l[g.clientID]=g.name}return Object.keys(l).forEach((function(o){var n=l[o];t.push(e.filter((function(e){return e.name===n&&e.clientID===o}))[0])})),t},e.prototype.getGA4DecoratorParam=function(e,t){void 0===t&&(t=window);var o=this._gl,n=!1,a=this.getGACookies();if(a.length>this.cookieCount){this.cookieCount=a.length;for(var i={},l=0,s=a;l<s.length;l++){var c=s[l];i[c.name]=c.clientID}if(void 0!==t.google_tag_data&&void 0!==t.google_tag_data.glBridge&&void 0!==t.google_tag_data.glBridge.generate){var g=t.google_tag_data.glBridge.generate(i);this._gl=g,t[this.globalVariableName]=g}n=o!=this._gl}return!1!==e&&n&&r.dispatchEvent(e,document,this._gl),this._gl},e.prototype.detectGA4CrossDomainParam=function(e,t){var o=this;void 0===t&&(t=window),this._gl=!1,t[this.globalVariableName]=!1,this.cookieCount=0;var a=4e3,i=function(){a--;var r=o._gl;void 0!==t.google_tag_data&&void 0!==t.google_tag_data.glBridge&&void 0!==t.google_tag_data.glBridge.generate&&(o.getGA4DecoratorParam(o.onUpdateEventName,t),!1===r&&!1!==o._gl&&(a=200),r!=o._gl&&e(o._gl),a<=0&&(clearInterval(l),l=null,n.logger.log(!1===o._gl?"Search for GA4 _gl failed after 10 minutes":"Stopping successful search of _gl")))};i();var l=setInterval(i,150),s=this;setTimeout((function(){null!==l&&(n.logger.log("giving up GA4 params detection, HEADS UP! You may need to make sure there is analytics.js loaded on the page"),clearInterval(l),r.dispatchEvent(s.onUpdateEventName),e(s._gl))}),6e5)},e}();t.GA4CrossDomain=a},,,,,,,,function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(3);window._GA4CrossDomain=n.GA4CrossDomain}]);