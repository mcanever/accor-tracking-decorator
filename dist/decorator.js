/*!
 * MIT License
 * Copyright 2022 D-EDGE
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated
 * documentation files (the "Software"), to deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit
 * persons to whom the Software is furnished to do so, subject to the following conditions:
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the
 * Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE
 * WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
 * OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * 
 */!function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=5)}([function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.debug=!1,this.logSuccessMessages=!0}return e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.debug&&console&&console.log&&console.log.apply(this,e)},e.prototype.success=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logSuccessMessages&&console&&console.log&&console.log.apply(this,e)},e.prototype.alwaysLog=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log.apply(this,e)},e}();t.default=r,t.logger=new r},function(e,t,o){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=r(o(8)),i=o(2);t.utils={Cookies:n.default,getUrlVars:i.getUrlVars,normalizeString:i.normalizeString,parseUrlParts:i.parseUrlParts,dispatchEvent:i.dispatchEvent,areReferrerAndLocationEqual:i.areReferrerAndLocationEqual,getElapsedMS:i.getElapsedMS,onDomReady:i.onDomReady}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new Date;function n(e){var t=document.createElement("a");return t.href=e,t}t.dispatchEvent=function(e,t,o){var r;t=t||document,"function"==typeof Event?r=new Event(e):(r=document.createEvent("Event")).initEvent(e,!0,!0),void 0!==o&&(r.detail=o),t.dispatchEvent(r)},t.getUrlVars=function(e){var t={};return e.replace(/#.*?$/g,"").replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(e,o,r){return t[o]=decodeURIComponent(r),e})),t},t.normalizeString=function(e){if("string"==typeof e){if(e.match(/^[a-zA-Z0-9-._$@'"()\[\]]{1,120}$/))return e;for(var t="ÀÁÂÃÄÅàáâãäåÒÓÔÕÕÖØòóôõöøÈÉÊËèéêëðÇçÐÌÍÎÏìíîïÙÚÛÜùúûüÑñŠšŸÿýŽž",o={},r=0;r<t.length;r++)o[t.charAt(r)]="AAAAAAaaaaaaOOOOOOOooooooEEEEeeeeeCcDIIIIiiiiUUUUuuuuNnSsYyyZz".charAt(r);return e=(e=(e=(e=e.replace(new RegExp("["+t+"]","g"),(function(e){return void 0!==o[e]?o[e]:e}))).replace(/[^a-zA-Z0-9-._$@'"()\[\] ]/g,"")).replace(/\s+/g,"-")).slice(0,120)}},t.parseUrlParts=n,t.onDomReady=function(e){"loading"!=document.readyState?e():document.addEventListener("DOMContentLoaded",e)},t.getElapsedMS=function(){return(new Date).getTime()-r.getTime()},t.areReferrerAndLocationEqual=function(e){try{var t="";if(/^https?:\/\//.test(e))t=n(e).origin;return t===location.origin}catch(e){return!1}}},function(e,t,o){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var n,i,a,c=o(0),s=o(2);function l(){for(var e=n,t={},o=0;o<e.length;++o)t[e[o]]=o;return t}function g(e,t){var o,r=[navigator.userAgent,(new Date).getTimezoneOffset(),navigator.userLanguage||navigator.language,Math.floor(new Date(Date.now()).getTime()/60/1e3)-(void 0===t?0:t),e].join("*");if(!(o=a)){o=Array(256);for(var n=0;256>n;n++){for(var i=n,c=0;8>c;c++)i=1&i?i>>>1^3988292384:i>>>1;o[n]=i}}a=o;var s=4294967295;for(n=0;n<r.length;n++)s=s>>>8^a[255&(s^r.charCodeAt(n))];return((-1^s)>>>0).toString(36)}var u=function(){function e(e,t){void 0===e&&(e="_GA4CrossDomainParam"),void 0===t&&(t="accor_ga4_param_updated"),this.globalVariableName=e,this.onUpdateEventName=t,this._gl=!1,this.cookieCount=0,this.postDecorateCallback=function(e){return e}}return e.prototype.getCookieVersionAndClientID=function(e,t){var o=/^GA1\.\d+\.(.+)$/,r=/^GS1\.\d+\.(.+)$/;return o.test(t)?{version:3,clientID:o.exec(t)[1]}:r.test(t)?{version:4,clientID:r.exec(t)[1]}:(c.logger.log("Warning: the value for the cookie "+e+" does not match GA3 or GA4 format",t),{version:-1,clientID:t})},e.prototype.getGACookies=function(){for(var e=[],t=[],o=!1,r=0,n=document.cookie.split("; ");r<n.length;r++){var i=n[r].split("="),a=i[0],c=i[1];if(/(^_ga$)|^_ga_/.test(a)){var s=this.getCookieVersionAndClientID(a,c);o=o||4==s.version,s.version>=3&&e.push({name:a,rawValue:c,clientID:s.clientID,version:s.version})}}if(!o)return[];for(var l={},g=0,u=e;g<u.length;g++){var d=u[g];l[d.clientID]=d.name}return Object.keys(l).forEach((function(o){var r=l[o];t.push(e.filter((function(e){return e.name===r&&e.clientID===o}))[0])})),t},e.prototype.getFilteredGACookies=function(e){void 0===e&&(e=window);var t=this.getGACookies();if(t.length>0){for(var o={},r=0,n=t;r<n.length;r++){var i=n[r];o[i.name]=i.clientID}try{var a={},s=void 0,l="";if(void 0!==e.google_tag_data&&void 0!==e.google_tag_data.td)l="google_tag_data.td",s=Object.keys(e.google_tag_data.td),Array.isArray(s)&&s.length>0&&(s=s.map((function(e){return e.replace(/^G-/,"")})));else{s=[],l="scripts";for(var g=document.getElementsByTagName("script"),u=0;u<g.length;u++){var d=g[u].getAttribute("src");if(d){var f=d.split("?");if(f.length>1){var h=f[0],p=f[1];if(/googletagmanager\.com|google-analytycs/.test(h)){var m=p.match(/(\?|&|&amp;)?id=(G-([^&]+))&?.*$/);m&&m.length>=3&&s.push(m[3])}}}}}for(var v=0,_=0,A=0,y=t;A<y.length;A++){if(4!=(i=y[A]).version)a[i.name]=i.clientID;else{var w=i.name.replace(/^_ga_/,"");-1!==s.indexOf(w)?(v++,a[i.name]=i.clientID):(_++,c.logger.log("[_GA4CrossDomain - EXPERIMENTAL] Skipping cookie not matching with detection from "+l,i.name))}}v>0?_>0&&(o=a):c.logger.log("Experimental matching of cookies and GA4 trackers failed. Keeping the original list. Last detection method: "+l,o)}catch(e){c.logger.log("[_GA4CrossDomain - EXPERIMENTAL] - Ignoring runtime error",e)}var k={};return Object.keys(o).sort((function(e,t){return e.length-t.length})).forEach((function(e){k[e]=o[e]})),k}return{}},e.prototype.getGA4DecoratorParam=function(e,t){void 0===t&&(t=window);var o=this._gl,r=!1,n=this.getFilteredGACookies();if(Object.keys(n).length>this.cookieCount){if(this.cookieCount=Object.keys(n).length,void 0!==t.google_tag_data&&void 0!==t.google_tag_data.glBridge&&void 0!==t.google_tag_data.glBridge.generate){var i=t.google_tag_data.glBridge.generate(n);this._gl=i,t[this.globalVariableName]=i}else{i=this.manualGenerate_gl(n);c.logger.log("Generated _gl with alternative solution"),this._gl=i,t[this.globalVariableName]=i}r=o!=this._gl}return!1!==e&&r&&s.dispatchEvent(e,document,this._gl),this._gl},e.prototype.detectGA4CrossDomainParam=function(e,t){var o=this;void 0===t&&(t=window),this._gl=!1,t[this.globalVariableName]=!1,this.cookieCount=0;var r=2e3,n=function(){r--;var n=o._gl;(void 0!==t.google_tag_data&&void 0!==t.google_tag_data.glBridge&&void 0!==t.google_tag_data.glBridge.generate||r<1995)&&(o.getGA4DecoratorParam(o.onUpdateEventName,t),!1===n&&!1!==o._gl&&(r=100),n!=o._gl&&e(o._gl),r<=0&&(clearInterval(i),i=null,c.logger.log(!1===o._gl?"Search for GA4 _gl failed after 10 minutes":"Stopping successful search of _gl")))};n();var i=setInterval(n,300),a=this;setTimeout((function(){null!==i&&(c.logger.log("giving up GA4 params detection, HEADS UP! You may need to make sure there is analytics.js loaded on the page"),clearInterval(i),s.dispatchEvent(a.onUpdateEventName),e(a._gl))}),6e5)},e.prototype.decorateURL=function(e,t){void 0===t&&(t={});var o=s.parseUrlParts(e);if(!o.hostname||""===o.hostname)return e;var r=s.getUrlVars(e);r=this.decorateObject(r,t);var n=[];for(var i in r)r.hasOwnProperty(i)&&!1!==r[i]&&null!==r[i]&&"string"==typeof r[i]&&n.push(encodeURIComponent(i)+"="+encodeURIComponent(r[i]));if(n.length>0){var a=/^\//.test(o.pathname)?o.pathname:"/"+o.pathname;e=o.protocol+"//"+o.hostname+a+"?"+n.join("&")+(o.hash||"")}return e},e.prototype.decorateObject=function(e,t){if(void 0===t&&(t={}),"object"!=typeof e||null===e)return e;var o=r({_gl:this._gl},t);for(var n in o)o.hasOwnProperty(n)&&(e[n]=o[n]);return"function"==typeof this.postDecorateCallback?this.postDecorateCallback(e):e},e.prototype.manualGenerate_gl=function(e){return function(e){var t,o,r=[];for(t in e)if(e.hasOwnProperty(t)){var a=e[t];if(void 0!==a&&a==a&&null!==a&&"[object Object]"!==a.toString()){r.push(t);var c=r,s=c.push;a=String(a),n=n||(o=void 0,o="ABCDEFGHIJKLMNOPQRSTUVWXYZ",(o+=o.toLowerCase()+"0123456789-_")+"."),i=i||l();for(var u=[],d=0;d<a.length;d+=3){var f=d+1<a.length,h=d+2<a.length,p=a.charCodeAt(d),m=f?a.charCodeAt(d+1):0,v=h?a.charCodeAt(d+2):0,_=p>>2;p=(3&p)<<4|m>>4,m=(15&m)<<2|v>>6,v&=63,h||(v=64,f||(m=64)),u.push(n[_],n[p],n[m],n[v])}s.call(c,u.join(""))}}var A=r.join("*");return["1",g(A),A].join("*")}(e)},e}();t.GA4CrossDomain=u},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(0),n=o(1),i=function(){function e(){}return e.encode=function(e){return"function"==typeof btoa?btoa(e):e},e.decode=function(e){return"function"==typeof atob?atob(e):e},e.getDecodedCookieValue=function(){var t=n.utils.Cookies.get(e.cookie_name);if(t)try{var o=JSON.parse(e.decode(t));return"object"==typeof o?o:{}}catch(o){r.logger.log("Error parsing cookie",e.cookie_name,t,o)}return{}},e.saveToCookie=function(t){var o=e.encode(JSON.stringify(t));n.utils.Cookies.set(e.cookie_name,o,{expires:e.cookie_duration,sameSite:"https:"===location.protocol?"none":void 0,secure:"https:"===location.protocol}),r.logger.log("Save to cookie",e.cookie_name,t)},e.get=function(t){var o=e.getDecodedCookieValue();return void 0!==o[t]?o[t]:null},e.set=function(t,o){var r=e.getDecodedCookieValue();r[t]=o,e.saveToCookie(r)},e.delete=function(t){var o=e.getDecodedCookieValue();delete o[t],e.saveToCookie(o)},e.clear=function(){e.saveToCookie({})},e.cookie_name="_AccorTrackingDecoratorData",e.cookie_duration=30,e}();t.Store=i},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(6),n=o(10),i=o(4),a=o(1),c=new n.Namespace,s=new r.Decorator(c);c.set("decorateUrl",(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.decorateURL.apply(s,e)})),c.set("decorateObject",(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.decorateObject.apply(s,e)})),c.set("decorateAll",(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.decorateAll.apply(s,e)})),c.set("decorator",s),c.set("Store",i.Store),c.set("utils",a.utils),s.config.autoDecorate&&s.autoDecorate()},function(e,t,o){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var n=o(7),i=o(0),a=o(9),c=o(1),s=o(4),l=o(3),g=function(){function e(e){this.namespace=e,this.initConfig(),i.logger.log("AccorTrackingDecorator config",this.config),this.initParameters()}return e.prototype.decorateURL=function(e,t){void 0===t&&(t={});var o=c.utils.parseUrlParts(e);if(!o.hostname||""===o.hostname)return e;var r=c.utils.getUrlVars(e);r=this.decorateObject(r,t);var n=[];for(var i in r)r.hasOwnProperty(i)&&!1!==r[i]&&null!==r[i]&&"string"==typeof r[i]&&n.push(encodeURIComponent(i)+"="+encodeURIComponent(r[i]));if(n.length>0){var a=/^\//.test(o.pathname)?o.pathname:"/"+o.pathname;e=o.protocol+"//"+o.hostname+a+"?"+n.join("&")+(o.hash||"")}return e},e.prototype.decorateObject=function(e,t){if(void 0===t&&(t={}),"object"!=typeof e||null===e)return e;var o=r(r({},this.trackingParams),t);for(var n in o)o.hasOwnProperty(n)&&(e[n]=o[n]);return this.config.postDecorateCallback(e)},e.prototype.autoDecorate=function(){var e=this,t=!1,o=!1;document.addEventListener("accor_tracking_params_available",(function(){t||(t=!0,setTimeout((function(){return e.decorateAll()}),300))})),document.addEventListener("accor_ga4_param_updated",(function(){o||(o=!0,setTimeout((function(){return e.decorateAll()}),300))}))},e.prototype.decorateAll=function(){i.logger.log("decorateAll");for(var e=document.getElementsByTagName("a"),t=0,o=function(o){var n=e[o],a=n.getAttribute("href");if(null!==a){var s=c.utils.parseUrlParts(a).hostname.toLowerCase();if(r.config.domainsToDecorate.map((function(e){return e.test(s)})).some((function(e){return e}))){var l=r.decorateURL(a);i.logger.log("Autodecorate",a,l),n.setAttribute("href",l),t++}}},r=this,n=0;n<e.length;n++)o(n);t>0&&i.logger.success("Successfully decorated "+t+" links with parameters",this.decorateObject({}))},e.prototype.initConfig=function(){var e=this.namespace.getConfig("postDecorateCallback");if(this.config={merchantid:this.namespace.getConfig("merchantid")||"",hotelID:this.namespace.getConfig("hotelID")||"",autoDecorate:!!this.namespace.getConfig("autoDecorate"),debug:!!this.namespace.getConfig("debug")||-1!==location.href.indexOf("forceAccorTrackingDecoratorDebug"),handleGoogleAnalytics:!1!==this.namespace.getConfig("handleGoogleAnalytics"),testReferrer:this.namespace.getConfig("testReferrer")||"",domainsToDecorate:this.namespace.getConfig("domainsToDecorate")||[/^all\.accor\.com$/,/accorhotels.com$/],isBrandSite:this.namespace.getConfig("isBrandSite")||!1,brandName:this.namespace.getConfig("brandName")||"",dontLogSuccessMessages:!!this.namespace.getConfig("dontLogSuccessMessages"),postDecorateCallback:"function"==typeof e?e:function(e){return e}},i.logger.debug=this.config.debug,i.logger.logSuccessMessages=!this.config.dontLogSuccessMessages,this.namespace.set("logger",i.logger),this.config.hotelID=this.config.hotelID.toUpperCase(),""===this.config.hotelID&&""!==this.config.merchantid){var t=this.config.merchantid.match(/^MS-([A-Z0-9]+)$/);t&&2==t.length&&(this.config.hotelID=t[1],i.logger.log("hotelID was empty, deriving it from merchantid: ",this.config.hotelID))}""===this.config.merchantid&&(i.logger.log("config.merchantid is empty!"),""!==this.config.hotelID&&(this.config.merchantid="MS-"+this.config.hotelID,i.logger.log("Using hotelID to set merchantid",this.config.merchantid)))},e.prototype.initParameters=function(){var e=this;(this.config.isBrandSite?this.trackingParams={merchantid:this.config.merchantid}:this.trackingParams={utm_source:"hotelwebsite_"+this.config.hotelID,utm_campaign:"hotel_website_search",utm_medium:"accor_regional_websites",merchantid:this.config.merchantid},this.config.handleGoogleAnalytics)?(n.detectGAParameters((function(t){e.trackingParams.gacid=t.gacid,e.trackingParams._ga=t._ga,e.trackingParams._gac=t._gac,e.trackingParams._gcl=t._gcl}),this.namespace.source),(new l.GA4CrossDomain).detectGA4CrossDomainParam((function(t){i.logger.log("[GA4] Updated _gl",t),e.trackingParams._gl=t})),document.addEventListener("accor_ga4_param_updated",(function(t){e.trackingParams._gl=t.detail}))):setTimeout((function(){return c.utils.dispatchEvent("accor_tracking_params_available")}),150);var t=""!==this.config.testReferrer?this.config.testReferrer:document.referrer,o=a.Attribution.detectAttributonFromReferrer(t);o.merchantid=o.merchantid||this.trackingParams.merchantid;var r={sourceid:s.Store.get("sourceid"),merchantid:s.Store.get("merchantid")};i.logger.log("Are referrer and location equal ?",c.utils.areReferrerAndLocationEqual(t));var g=a.Attribution.getScore(o),u=a.Attribution.getScore(r);i.logger.log("Attribution data detected from current URL, Referrer and configuration = ",o),i.logger.log("Stored Attribution data (from previous visits if any) = ",r),i.logger.log("Attribution score of current URL/referrer = ",g,"Attribution Score of stored data = ",u),g>=u&&!c.utils.areReferrerAndLocationEqual(t)&&(s.Store.set("sourceid",o.sourceid),s.Store.set("merchantid",o.merchantid),i.logger.success("New sourceid and/or merchantid",o.sourceid,o.merchantid)),this.trackingParams.sourceid=s.Store.get("sourceid"),this.trackingParams.merchantid=s.Store.get("merchantid"),this.config.handleGoogleAnalytics||c.utils.dispatchEvent("accor_tracking_params_available")},e}();t.Decorator=g},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(0),n=o(1);t.detectGAParameters=function(e,t){void 0===t&&(t=window),t.AccorBooking_GUA_ClientId=!1,t.AccorBooking_GUA_linkerParam=!1;var o={gacid:!1,_ga:!1,_gac:!1,_gcl:!1},i=0,a=!1,c=function(){if(i++,void 0!==t.ga){if(void 0!==s&&void 0!==t.AccorBooking_GUA_ClientId&&""!=t.AccorBooking_GUA_ClientId&&void 0!==t.AccorBooking_GUA_linkerParam&&""!=t.AccorBooking_GUA_linkerParam||i>4e3)return i>4e3&&r.logger.log("Google Analytics decorator failed after 10 minutes"),void clearInterval(s);a||(a=!0,setTimeout((function(){t.ga((function(){a=!1;var i=-1!==location.href.indexOf("useSecondTrackerToDecorate")?1:0,c=t.ga.getAll();if(void 0!==c[i]){var s=c[i].get("clientId");t.AccorBooking_GUA_ClientId=s,o.gacid=s,r.logger.success("Detected clientID (gacid): "+s);var l=c[i].get("linkerParam");if(l){var g=l.split("&");if(g.length>0){g.forEach((function(e){var r=e.split("=");if(r.length>1){var n=r[0],i=r[1];"_ga"===n&&(t.AccorBooking_GUA_linkerParam=i,o._ga=i),"_gac"===n&&(o._gac=i),"_gcl"===n&&(o._gcl=i)}}));var u={};Object.keys(o).forEach((function(e){!1!==o[e]&&(u[e]=o[e])})),r.logger.success("Detected linker params ("+Object.keys(u).join(", ")+"): ",u),r.logger.log("Detected GA parameters after (ms): ",n.utils.getElapsedMS())}else r.logger.log("WARN likerParam format Error",l)}else r.logger.log("WARN no linkerParam");n.utils.dispatchEvent("accor_tracking_params_available"),e(o)}else r.logger.log("WARN trackers["+i+"] undefined")}))}),10))}};c();var s=setInterval(c,150);setTimeout((function(){void 0!==s&&(r.logger.log("giving up GA params detection"),clearInterval(s),n.utils.dispatchEvent("accor_tracking_params_available"),e(o))}),6e5)}},function(e,t,o){var r,n;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){if(void 0===(n="function"==typeof(r=i)?r.call(t,o,t,e):r)||(e.exports=n),!0,e.exports=i(),!!0){var a=window.Cookies,c=window.Cookies=i();c.noConflict=function(){return window.Cookies=a,c}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var o=arguments[e];for(var r in o)t[r]=o[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function o(r){function n(){}function i(t,o,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},n.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(o);/^[\{\[]/.test(a)&&(o=a)}catch(e){}o=r.write?r.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var c="";for(var s in i)i[s]&&(c+="; "+s,!0!==i[s]&&(c+="="+i[s].split(";")[0]));return document.cookie=t+"="+o+c}}function a(e,o){if("undefined"!=typeof document){for(var n={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var c=i[a].split("="),s=c.slice(1).join("=");o||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var l=t(c[0]);if(s=(r.read||r)(s,l)||t(s),o)try{s=JSON.parse(s)}catch(e){}if(n[l]=s,e===l)break}catch(e){}}return e?n[e]:n}}return n.set=i,n.get=function(e){return a(e,!1)},n.getJSON=function(e){return a(e,!0)},n.remove=function(t,o){i(t,"",e(o,{expires:-1}))},n.defaults={},n.withConverter=o,n}((function(){}))}))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),n=o(0),i=function(){function e(){}return e.getScore=function(e){var t=!!e.sourceid&&!!e.merchantid;return t&&(/^(ppc-|dis-|sop-)/.test(e.merchantid)||this.isRetargetingMerchant(e.merchantid))?3:t||/^(ml-)/.test(e.sourceid)?2:1},e.detectAttributonFromReferrer=function(e){var t,o=r.utils.getUrlVars(this.getCurrentURL()),i=o.sourceid||null,a=o.merchantid||null,c=!!i&&!!a,s=(o.utm_source||"")+"_"+(o.utm_medium||"")+"_"+(o.utm_campaign||""),l=!!o.utm_source&&s||o.dclid&&"dclid"||o.gclid&&"gclid"||null,g=this.detectReferrer(e),u="Direct_Access";return c||/^(ml-)/.test(i)?(u=i,t=a,n.logger.log("sourceid from sourceid url parameter",u),n.logger.log("merchantid from merchantid url parameter",t)):l?(u="UTM_"+l,n.logger.log("sourceid from utm|dclid|gclid in url",u)):null!==g&&(u=g.category+"_"+g.name,n.logger.log("sourceid from referrer",u)),{sourceid:u=r.utils.normalizeString(u),merchantid:t=!!t&&r.utils.normalizeString(t)}},e.detectReferrer=function(t){if(""===t||0===t.toLowerCase().indexOf(e.getOrigin()))return null;var o={SOCIAL:{FACEBOOK:/^https?:\/\/((www|l)\.)?facebook\.com\/.*$/i,QZONE:/^https?:\/\/[a-z0-9.]+qzone\.qq\.com(\/.*)?$/i,QQ:/^https?:\/\/([a-z]+\.)?qq\.com(\/.*)?$/i,INSTAGRAM:/^https?:\/\/(www\.)?instagram\.com\/.*$/i,TUMBLR:/^https?:\/\/(www\.|[a-zA-Z0-9-_\.]+)?tumblr\.com\/.*$/i,TWITTER:/^https?:\/\/(www\.)?twitter\.com\/.*$/i,BAIDU:/^https?:\/\/(www\.)?tieba\.baidu\.com\/.*$/i,WEIBO:/^https?:\/\/(www\.)?weibo\.com\/.*$/i,SNAPCHAT:/^https?:\/\/(www\.)?snapchat\.com\/.*$/i,VKONTAKTE:/^https?:\/\/(www\.)?vk\.com\/.*$/i,PINTEREST:/^https?:\/\/(www\.)?pinterest\.com\/.*$/i,LINKEDIN:/^https?:\/\/(www\.)?linkedin\.com\/.*$/i,REDDIT:/^https?:\/\/(www\.)?reddit\.com\/.*$/i},SEO:{GOOGLE:/^https?:\/\/(www\.)?google\.[a-z.]+(\/.*)?$/i,BING:/^https?:\/\/(www\.)?bing\.com\/.*$/i,YAHOO:/^https?:\/\/([a-z.]+)?yahoo\.(com|co.jp)(\/.*)?$/i,BAIDU:/^https?:\/\/(www\.)?baidu\.com\/.*$/i,YANDEX:/^https?:\/\/(www\.)?yandex\.(com|ru)(\/.*)?$/i,DUCKDUCKGO:/^https?:\/\/(www\.)?duckduckgo\.com(\/.*)?$/i,ASK:/^https?:\/\/([a-z]+\.)?ask\.com(\/.*)?$/i,AOL:/^https?:\/\/(search\.aol|aol|www\.aol|www\.aolsearch)\.com(\/.*)?$/i,WOLFRAMALPHA:/^https?:\/\/(www\.)?wolframalpha\.com(\/.*)?$/i,ARCHIVE:/^https?:\/\/([a-z]+\.)?archive\.org(\/.*)?$/i}};for(var r in o)if(o.hasOwnProperty(r)){var i=o[r];for(var a in i){if(i.hasOwnProperty(a))if(i[a].test(t))return n.logger.log("Detected known referrer",r,a),{category:r,name:a}}}return null},e.isRetargetingMerchant=function(e){for(var t=0,o=[/^RT-FR018143-.*$/,/^RT-MD054836-.*$/,/^RT-FR018149-.*$/,/^RT-FR018150-.*$/,/^RT-PC026193-.*$/,/^RT-MD115538-.*$/];t<o.length;t++){if(o[t].test(e))return!0}return!1},e.getOrigin=function(){return document.location.origin.toLowerCase()},e.getCurrentURL=function(){return document.location.href},e}();t.Attribution=i},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){void 0===e&&(e=window),this.source=e,void 0===this.source._AccorTrackingDecorator&&(this.source._AccorTrackingDecorator={})}return e.prototype.get=function(e){return this.source._AccorTrackingDecorator[e]},e.prototype.set=function(e,t){this.source._AccorTrackingDecorator[e]=t},e.prototype.getConfig=function(e){var t=this.get("config");return void 0!==t&&void 0!==t[e]&&t[e]},e}();t.Namespace=r}]);